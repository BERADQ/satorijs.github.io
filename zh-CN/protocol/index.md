# 总览

Satori 协议的通信方式分为两块：

- 一套基于 HTTP 的 API 服务，用于发送消息和调用其他功能
- 一套基于 WebSocket 或者 WebHook 的事件服务，用于接收消息和其他事件

## 可选字段

由于不同平台实现的差异，Satori 协议中的大部分字段都是可选的。可选字段的类型后面会有一个 `?` 标记。

对于任意可选字段，相关 API 调用的结果中可能不含该字段，也可能该字段的值为 `null`。其中，前者表示该 API 并未提供这一字段，但可能由其他 API 提供；后者表示该 API 提供了这一字段，但其值为 `null`。

## 资源

Satori 协议中的资源是指一类具有确定结构的对象。例如，[用户](../resources/user.md)、[频道](../resources/channel.md)、[消息](../resources/message.md) 等都是资源。部分事件和 API 的返回值中会包含这些资源对象。

资源对象的某个字段可以是另一个资源对象，例如消息对象中的 `user` 字段就是一个用户对象。当资源对象出现多级嵌套时，内层的资源将会被统一提升到最外层。例如，当接收到消息事件时，事件体中可以访问到 `message`, `member`, `user`, `channel` 等资源，但 `message` 中就不再存在 `member` 和 `user` 字段了。
